<div class="comment-form-container">
  <div class="comment-form-header">
    <app-user-avatar 
      [size]="32"
      [username]="currentUser()"
      [imageUrl]="currentUserAvatar()"
    ></app-user-avatar>
    <span class="comment-as">Comment as <strong>{{ currentUser() }}</strong></span>
  </div>
  
  <form [formGroup]="commentForm" (ngSubmit)="onSubmit()">
    <div class="comment-editor">
      <textarea
        formControlName="content"
        class="comment-textarea"
        placeholder="What are your thoughts?"
        rows="4"
        [class.focused]="isFocused()"
        (focus)="isFocused.set(true)"
        (blur)="handleBlur()"
      ></textarea>
      
      @if (isFocused() || commentForm.get('content')?.value) {
        <div class="comment-toolbar">
          <!-- âœ… REMOVED: Formatting buttons -->
          
          <div class="comment-actions" style="margin-left: auto;">
            @if (isReplying()) {
              <button type="button" class="cancel-btn" (click)="cancel()">
                Cancel
              </button>
            }
            <button 
              type="submit" 
              class="submit-comment-btn"
              [disabled]="commentForm.invalid || isSubmitting()"
            >
              @if (isSubmitting()) {
                <span class="spinner-small"></span>
              }
              {{ isReplying() ? 'Reply' : 'Comment' }}
            </button>
          </div>
        </div>
      }
    </div>
  </form>
</div>